# é›†æˆæ¸¸æˆçˆ¬è™«ä½¿ç”¨è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

`integrated_game_crawler.py` æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ¸¸æˆçˆ¬è™«è„šæœ¬ï¼Œé›†æˆäº†ä¹‹å‰æ‰€æœ‰çš„ä¼˜åŒ–åŠŸèƒ½ï¼š

- ğŸŒ å¤šå¹³å°çˆ¬å– (itch.io, Newgrounds, ç­‰)
- ğŸ” APIæœç´¢æ”¯æŒ (SerpAPI)
- ğŸŒ ä»£ç†æ”¯æŒ
- ğŸ–¼ï¸ è‡ªåŠ¨ç¼©ç•¥å›¾ç”Ÿæˆ
- âš¡ å¹¶å‘å¤„ç†
- ğŸ¯ æ™ºèƒ½å»é‡
- ğŸ“Š è¯¦ç»†ç»Ÿè®¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install requests beautifulsoup4 lxml pillow aiohttp
```

### 2. åŸºæœ¬ä½¿ç”¨

```bash
# å¿«é€Ÿæ¨¡å¼ï¼Œçˆ¬å–30ä¸ªæ¸¸æˆ
python scripts/integrated_game_crawler.py --mode quick --target 30

# å®Œæ•´æ¨¡å¼ï¼Œçˆ¬å–50ä¸ªæ¸¸æˆ
python scripts/integrated_game_crawler.py --mode full --target 50

# APIæœç´¢æ¨¡å¼
python scripts/integrated_game_crawler.py --mode api --target 20
```

## ğŸ“– è¯¦ç»†ä½¿ç”¨æŒ‡å—

### å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--mode` | str | `full` | çˆ¬å–æ¨¡å¼: `quick`/`full`/`api` |
| `--target` | int | `50` | ç›®æ ‡æ¸¸æˆæ•°é‡ |
| `--use-proxy` | flag | False | å¯ç”¨ä»£ç† |
| `--generate-thumbnails` | flag | True | ç”Ÿæˆç¼©ç•¥å›¾ |
| `--api-search` | flag | False | å¯ç”¨APIæœç´¢ |
| `--platforms` | str | `itch.io,newgrounds` | æŒ‡å®šå¹³å°ï¼Œç”¨é€—å·åˆ†éš” |
| `--delay` | str | `0.5-1.0` | è¯·æ±‚å»¶è¿ŸèŒƒå›´(ç§’) |
| `--workers` | int | `3` | å¹¶å‘å·¥ä½œçº¿ç¨‹æ•° |

### çˆ¬å–æ¨¡å¼è¯´æ˜

#### 1. å¿«é€Ÿæ¨¡å¼ (quick)
- ä¸»è¦ä» itch.io å¹³å°çˆ¬å–
- é€Ÿåº¦æœ€å¿«ï¼Œé€‚åˆå¿«é€Ÿè·å–æ¸¸æˆ
- æ¨èç”¨äºæµ‹è¯•æˆ–å°é‡çˆ¬å–

```bash
python scripts/integrated_game_crawler.py --mode quick --target 20
```

#### 2. å®Œæ•´æ¨¡å¼ (full)
- å¤šå¹³å°å¹¶å‘çˆ¬å–
- å¯é€‰APIæœç´¢è¡¥å……
- åŠŸèƒ½æœ€å…¨é¢ï¼Œæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒ

```bash
python scripts/integrated_game_crawler.py --mode full --target 50 --api-search
```

#### 3. APIæ¨¡å¼ (api)
- ä¸»è¦é€šè¿‡æœç´¢APIè·å–æ¸¸æˆ
- éœ€è¦é…ç½®APIå¯†é’¥
- é€‚åˆè·å–ç‰¹å®šç±»å‹æ¸¸æˆ

```bash
python scripts/integrated_game_crawler.py --mode api --target 30 --api-search
```

## âš™ï¸ é…ç½®æ–‡ä»¶

### ä»£ç†é…ç½®

åˆ›å»º `config/proxies.txt` æ–‡ä»¶ï¼š

```
http://127.0.0.1:8080
http://username:password@proxy.example.com:8888
```

ä½¿ç”¨ä»£ç†ï¼š
```bash
python scripts/integrated_game_crawler.py --use-proxy
```

### APIå¯†é’¥é…ç½®

åˆ›å»º `config/api_keys.json` æ–‡ä»¶ï¼š

```json
{
  "serp_api_key": "your_serpapi_key_here"
}
```

ä½¿ç”¨APIæœç´¢ï¼š
```bash
python scripts/integrated_game_crawler.py --api-search
```

## ğŸ¨ ç¼©ç•¥å›¾ç”Ÿæˆ

è„šæœ¬è‡ªåŠ¨ä¸ºæ¸¸æˆç”Ÿæˆç²¾ç¾çš„ç¼©ç•¥å›¾ï¼š

- 8ç§é¢œè‰²ä¸»é¢˜
- 4ç§å‡ ä½•å›¾æ¡ˆ
- è‡ªåŠ¨æ–‡å­—å¸ƒå±€
- 300x200åƒç´ å°ºå¯¸

ç¦ç”¨ç¼©ç•¥å›¾ç”Ÿæˆï¼š
```bash
python scripts/integrated_game_crawler.py --generate-thumbnails=false
```

## ğŸŒ æ”¯æŒçš„å¹³å°

ç›®å‰æ”¯æŒçš„æ¸¸æˆå¹³å°ï¼š

1. **itch.io** - HTML5æ¸¸æˆå¹³å°
2. **Newgrounds** - Flash/HTML5æ¸¸æˆå¹³å°
3. **Kongregate** - ç½‘é¡µæ¸¸æˆå¹³å° (å®éªŒæ€§)
4. **CrazyGames** - ç½‘é¡µæ¸¸æˆå¹³å° (å®éªŒæ€§)
5. **Poki** - ç½‘é¡µæ¸¸æˆå¹³å° (å®éªŒæ€§)

æŒ‡å®šç‰¹å®šå¹³å°ï¼š
```bash
python scripts/integrated_game_crawler.py --platforms itch.io,newgrounds
```

## ğŸ“Š è¾“å‡ºå’Œæ—¥å¿—

### æ§åˆ¶å°è¾“å‡º
è„šæœ¬è¿è¡Œæ—¶ä¼šæ˜¾ç¤ºè¯¦ç»†çš„è¿›åº¦ä¿¡æ¯ï¼š
- å¹³å°çˆ¬å–çŠ¶æ€
- æ‰¾åˆ°çš„æ¸¸æˆæ•°é‡
- ç¼©ç•¥å›¾ç”Ÿæˆè¿›åº¦
- æœ€ç»ˆç»Ÿè®¡ç»“æœ

### æ—¥å¿—æ–‡ä»¶
è¯¦ç»†æ—¥å¿—ä¿å­˜åœ¨ `game_crawler.log` æ–‡ä»¶ä¸­ã€‚

### æ¸¸æˆæ•°æ®
çˆ¬å–çš„æ¸¸æˆä¿å­˜åœ¨ `src/data/games.ts` æ–‡ä»¶ä¸­ï¼ŒåŸæ–‡ä»¶ä¼šè‡ªåŠ¨å¤‡ä»½ã€‚

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå¿«é€Ÿè·å–20ä¸ªæ¸¸æˆ
```bash
python scripts/integrated_game_crawler.py --mode quick --target 20
```

### ç¤ºä¾‹2ï¼šå®Œæ•´çˆ¬å–ï¼Œä½¿ç”¨ä»£ç†å’ŒAPI
```bash
python scripts/integrated_game_crawler.py \
  --mode full \
  --target 50 \
  --use-proxy \
  --api-search \
  --workers 5
```

### ç¤ºä¾‹3ï¼šä»…ä»itch.ioçˆ¬å–ï¼Œè‡ªå®šä¹‰å»¶è¿Ÿ
```bash
python scripts/integrated_game_crawler.py \
  --platforms itch.io \
  --target 30 \
  --delay 1.0-2.0
```

### ç¤ºä¾‹4ï¼šAPIæœç´¢ç‰¹å®šæ¸¸æˆ
```bash
python scripts/integrated_game_crawler.py \
  --mode api \
  --target 15 \
  --api-search
```

## ğŸ”§ é«˜çº§é…ç½®

### æ€§èƒ½è°ƒä¼˜

1. **å¹¶å‘æ•°è°ƒæ•´**
   ```bash
   --workers 5  # å¢åŠ å¹¶å‘çº¿ç¨‹
   ```

2. **å»¶è¿Ÿè°ƒæ•´**
   ```bash
   --delay 0.3-0.8  # å‡å°‘å»¶è¿Ÿï¼Œæé«˜é€Ÿåº¦
   --delay 2.0-5.0  # å¢åŠ å»¶è¿Ÿï¼Œæ›´ç¤¼è²Œ
   ```

3. **å¹³å°ä¼˜åŒ–**
   ```bash
   --platforms itch.io  # åªçˆ¬å–æœ€ç¨³å®šçš„å¹³å°
   ```

### é”™è¯¯å¤„ç†

è„šæœ¬å†…ç½®äº†å®Œå–„çš„é”™è¯¯å¤„ç†ï¼š
- ç½‘ç»œè¶…æ—¶é‡è¯•
- 403/404é”™è¯¯ä¼˜é›…å¤„ç†
- å¹³å°ä¸å¯ç”¨æ—¶çš„å›é€€æœºåˆ¶
- æ•°æ®éªŒè¯å’Œæ¸…ç†

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

åœ¨æ ‡å‡†é…ç½®ä¸‹ï¼š
- **é€Ÿåº¦**: æ¯åˆ†é’Ÿçº¦10-20ä¸ªæ¸¸æˆ
- **æˆåŠŸç‡**: 80-90%
- **å†…å­˜ä½¿ç”¨**: çº¦50-100MB
- **ç½‘ç»œæµé‡**: æ¯ä¸ªæ¸¸æˆçº¦50-200KB

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **å°Šé‡ç½‘ç«™è§„åˆ™**
   - ä¸è¦è®¾ç½®è¿‡ä½çš„å»¶è¿Ÿ
   - åˆç†æ§åˆ¶å¹¶å‘æ•°
   - éµå®ˆrobots.txt

2. **ç½‘ç»œç¯å¢ƒ**
   - ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
   - æŸäº›å¹³å°å¯èƒ½éœ€è¦ä»£ç†è®¿é—®
   - APIå¯èƒ½æœ‰é€Ÿç‡é™åˆ¶

3. **æ•°æ®è´¨é‡**
   - è„šæœ¬ä¼šè‡ªåŠ¨å»é‡
   - æ— æ•ˆæ¸¸æˆä¼šè¢«è¿‡æ»¤
   - å»ºè®®å®šæœŸæ¸…ç†æ•°æ®

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ²¡æœ‰æ‰¾åˆ°æ¸¸æˆ**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - å°è¯•ä½¿ç”¨ä»£ç†
   - é™ä½å¹¶å‘æ•°

2. **ç¼©ç•¥å›¾ç”Ÿæˆå¤±è´¥**
   - ç¡®ä¿å®‰è£…äº†Pillowåº“
   - æ£€æŸ¥ç›®å½•æƒé™
   - æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—

3. **APIæœç´¢æ— ç»“æœ**
   - æ£€æŸ¥APIå¯†é’¥é…ç½®
   - ç¡®è®¤APIé¢åº¦å……è¶³
   - éªŒè¯ç½‘ç»œè¿æ¥

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š
```bash
# ç¼–è¾‘è„šæœ¬ï¼Œå°†æ—¥å¿—çº§åˆ«æ”¹ä¸ºDEBUG
logging.basicConfig(level=logging.DEBUG, ...)
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. é”™è¯¯æ—¥å¿— (`game_crawler.log`)
2. ç½‘ç»œè¿æ¥çŠ¶æ€
3. ä¾èµ–åº“ç‰ˆæœ¬
4. é…ç½®æ–‡ä»¶æ ¼å¼

---

## ğŸ‰ æ€»ç»“

é›†æˆæ¸¸æˆçˆ¬è™«æä¾›äº†å®Œæ•´çš„æ¸¸æˆçˆ¬å–è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒå¤šç§æ¨¡å¼å’Œé…ç½®é€‰é¡¹ã€‚é€šè¿‡åˆç†çš„å‚æ•°é…ç½®ï¼Œå¯ä»¥é«˜æ•ˆã€ç¨³å®šåœ°è·å–å¤§é‡æ¸¸æˆæ•°æ®ï¼ŒåŒæ—¶è‡ªåŠ¨ç”Ÿæˆç²¾ç¾çš„ç¼©ç•¥å›¾ã€‚

æ¨èçš„ä½¿ç”¨æµç¨‹ï¼š
1. é¦–å…ˆç”¨å¿«é€Ÿæ¨¡å¼æµ‹è¯•
2. é…ç½®ä»£ç†å’ŒAPIå¯†é’¥
3. ä½¿ç”¨å®Œæ•´æ¨¡å¼æ‰¹é‡çˆ¬å–
4. å®šæœŸè¿è¡Œç»´æŠ¤æ•°æ®è´¨é‡ 